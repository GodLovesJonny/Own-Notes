# 考前复习

------
+ 操作系统的基本特征：并发性、共享性、虚拟性、异步性
+ 操作系统的设计目标：方便性、有效性、可扩充性、开放性
+ trap指令是非特权指令，启动I/O、设置中断屏蔽、传送PSW都是特权指令
+ 运行的程序请求分配一块内存不属于强迫性中断，传输结束是
+ 访管指令既可在目态又可在管态执行
+ 操作系统负责为用户程序完成与硬件相关和应用无关的工作
+ 用户程序在目态下使用特权指令将引起的中断是属于**程序中断**
+ 访管指令本身不是特权指令,其基本功能是让程序拥有“自愿进管”的手段，从而引起访管中断
+ **软件管理**不属于操作系统的功能
+ **中断**不属于操作系统管理的资源
+ **读时钟日期，屏蔽所有中断**命令应该只在核心态下执行
+ **及时响应用户请求**不是引入操作系统的主要目的
+ Windows3.1是一个**16**位的操作系统，具有多道程序设计特点，但不是分时系统(多用户系统)
+ 多道批处理系统的主要缺点是**缺少交互性**，交互性是分时系统引入的目的
+ 分布式计算机系统具备的基本功能是**通信、并行计算、资源管理、资源共享**
+ 多道批处理的发展是建立在**通道和中断机构**硬件支持上的
+ UNIX操作系统是一种多用户的、人机交互的**分时系统**
+ 系统调用可以是在用户程序执行时发出，请求操作系统的服务；外部中断也可以在用户程序执行时发生，例如请求外设；用户程序在执行时若所需页面不再内存，则发生缺页中断。因此，系统调用、外部中断、缺页都可能在用户态发生。而进程切换是在进程调度的过程中发生的，此时系统一定是处于核心态
+ 中断处理和子程序调用都需要压栈以保护现场，中断处理一定会保存而子程序调用不需要保存其内容的是**程序状态字寄存器**
+ 多道批处理系统优缺点：资源利用率高、系统吞吐量大、平均周转时间长、无交互能力
+ **中断功能**是多道程序设计的基础
------
+ **作业**是指用户在一次解题或一个事务处理过程中要求计算机系统所做工作的集合。它包括程序，数据及其作业说明书 
+ **进程**是程序的一次执行，**一个程序可以启动多个进程**
+ **线程**是进程中的一个实体，是被系统独立调度和执行的基本单位
+ 进程之间的制约关系可以归结为**同步与互斥**
+ **进程的特征**：动态性、并发性、独立性、异步性
+ **程序顺序整理的特征**：顺序性、封闭性、可再现性
+ **程序并发执行特性**：间断性、失去封闭性、不可再现性
+ 每个进程中访问临界资源的那段**代码**称为**临界区**
+ 一个进程是**PCB结构、程序和数据的集合**
+ 多道程序系统中的操作系统分配资源以**进程**为基本单位
+ 并发进程相互之间**可以有交往也可无关**
+ PV操作是一种**低级**进程通信原语，不是系统调用
+ **进程的创建**来源于以下四个事件：提交一个批处理作业、在终端上一个交互式作业登录、操作系统创建一个服务进程、存在的进程创建新的进程
+ **口令**不能用于进程间通信，消息、信件、信号量可以
+ 当输入输出操作正常结束时，操作系统将请求该操作的进程的状态设置成**就绪状态**
+ 采用**资源静态分配策略**的手段可以防止系统出现死锁
+ 构成网络操作系统通信机制的是**通信原语**
+ 就绪->等待不可能发生
+ **一个高优先级进程被创建**不一定是引起进程调度的因素
+ 当一个进程正等待着**合作进程的一个消息**时，称其为等待状态
+ 分时系统中，**请求信息在外存队列上排队等待的时间**不属于相应时间的一部分
+ 在具有挂起状态的系统中，若当前内存空间高度吃紧，系统将使一个正在等待I/O的进程进入**静止阻塞**状态
+ 多道程序设计能充分发挥**CPU与外设**之间的并行工作能力
+ **处理器的利用率**=处理器工作时间/总执行时间
+ 在引入线程的操作系统中，把**线程**作为调度和分派的基本单位，而把**进程**作为资源拥有的基本单位 
+ S为死锁状态的充要条件是**当且仅当S状态的资源分配图是不可完全简化的**，称为**死锁定理**
+ 在进程调度的抢占方式中，抢占的原则有**优先级原则和时间片轮转原则**等
+ 在进程通信中，消息的一般形式为四个部分组成：**发送进程名、接收进程名、消息长度、消息正文**
------
+ 响应比=（等待时间+要求服务时间）/要求服务时间 
+ 在批处理系统中，**周转时间**是指**作业等待时间和运行时间之和**
+ 排队等待时间最长的作业被优先调度的是**先来先服务算法**
+ **作业调度**：先来先服务(FCFS)、短作业优先(SJF)、优先级(PSA)、高响应比优先(HRRN)
+ **进程调度**：先来先服务、短作业优先、优先权调度、时间片轮转、多级反馈队列调度
+ 在实时操作系统中，经常采用**可抢占的优先级**调度算法来分配处理器
+ 作业的状态：**后备、运行、完成**
+ 资源要求多的作业，其优先权应**低于**资源要求少的作业
+ 通常应提高**启动外设次数多**的进程的优先级
+ 一般来说，对**需经常启动外设的**进程给一个较小的时间片比较合适
+ 一种既有利于短小作业又兼顾到长作业的作业调度算法是**最高响应比优先算法**
+ 执行signal原语的进程原本是执行态，调用signal原语过程中，若value值大于0，不做任何操作继续执行，而若value值小于等于0，唤醒一个进程后继续执行
+ 在非抢占调度方式下，运行进程执行V原语后，其状态**不变**
+ UNIX System V的进程调度原理基于**时间片+优先级**算法
+ **进程时间片用完**可以**降低**其优先级，**完成I/O**的进程应该**提升**其优先级，处于就绪队列等待调度的进程一般不会改变其优先级
+ 满足短任务优先且不会发生饥饿现象的调度算法是**高响应比优先算法**
+ 可能引起进程调度的情况有：**一个进程从运行状态变成了等待状态，一个进程从运行状态变成了就绪状态，一个进程从等待状态变成了就绪状态，一个进程完成工作后被撤销**，而“一个进程从就绪状态变成了运行状态”是**一次进程调度完成时**的情况
+ **多重队列进程调度算法**通过将进程分类，在系统中设置若干队列进行进程调度，综合考虑到了CPU密集型进程和I/O密集型进程，又称**多级反馈队列调度算法**
+ 引起死锁：**竞争不可抢占性资源、竞争可消耗资源、进程推进顺序不当**
+ 产生死锁必要条件：**互斥、请求和保持、不可抢占、循环等待**
+ 预防死锁主要破坏**后三个**条件
+ **银行家算法**用于避免死锁
+ 通常不采用**从死锁进程处抢夺资源**的方法来解除死锁
+ 常用死锁解除方法：**抢占资源、终止或撤销进程**
------
+ 固定分区存储管理中，处理器设置的地址转换机构是**上限寄存器和下限寄存器**
+ 动态分区分配中常用数据结构：**空闲分区表、空闲分区链**
+ **分页和分段的区别**：（1）页是信息的物理单位，分页是为了实现离散分配方式，以减少内存的外零头，提高内存利用率，分页是为了系统的需要而不是用户的需要。段是信息的逻辑单位，分段的目的是为了更好地满足用户需要；（2）页的大小固定且由系统决定；段的长度不固定，取决于用户编写的程序；（3）分页的作业地址空间是一维的，即单一的线性地址空间；而分段的作业地址空间则是二维的
+ 段页式存储管理中，访问快表失败时，每访问一条指令或存取一个操作数都要**3次**访问主存
+ **静态重定位**在逻辑地址转换为物理地址的过程中，地址变换是在进程装入时一次完成的，以后不再改变
+ **动态重定位**把这种地址转换推迟到程序执行时才进行，装入内存后的所有地址都仍是逻辑地址
+ 基于**顺序搜索**的动态分区分配算法（适用于不太大的系统）：首次适应（FF，链首开始）、循环首次适应（NF，上次找到的空闲分区的下一个空闲分区开始）、最佳适应（BF，能满足的最小的）、最坏适应（WF，最大的，产生碎片可能性最小，查找效率很高，将分区按容量从大到小形成空闲分区链）
+ 基于**索引搜素**的动态分区分配算法：快速适应算法、伙伴系统算法、哈希算法
+ 采用段页式存储管理，在CPU中应设置**段表控制**寄存器
+ 段页式管理仍旧是**二维**地址结构
+ 在存储管理中，提高内存利用率主要是通过**存储扩充(虚拟存储器)**功能实现的
+ 采用动态重定位方式装入的作业，在执行中允许**操作系统有条件地**将其移动
+ 支持程序浮动的地址转换机制是**动态重定位**
+ **虚拟存储器的最大容量**=Min(内存+外存，2^地址寄存器位数)
+ 采用**页式存储管理**使处理器执行指令的速度**降低**
+ **可变分区存储管理**采用**静态重定位**
+ **抖动**指频繁置换页面
+ **影响缺页中断率**因素：(1)分配给作业的主存块数多则缺页率低，反之缺页中断率就高；(2)页面大，缺页中断率低；(3)程序编制方法。以数组运算为例，如果每一行元素存放在一页中，则按行处理各元素缺页中断率低，反之按列处理各元素，则缺页中断率高；(4)页面调度算法对缺页中断率影响很大，但不可能找到一种最佳算法
+ 分页式存储管理中，地址转换工作由**硬件**完成
+ 某系统采用页式存储管理，页的大小为512B，设内存容量为16MB，内存的分配使用情况采用“位示图”表示，则位示图需要**4K字节**
+ 虚拟存储器的最大容量**由计算机的地址结构决定** 
+ 很好地解决了“零头”（碎片）问题的存储管理方法是**页式存储管理**
+ 虚拟存储管理系统的理论基础是程序的**局部性原理**
+ **页面置换算法**：最佳置换算法（以后用不使用的页面，无法实现）、先进先出置换算法（**替换指针**指向最老页面）、最近最久未使用置换算法（LRU）、最少使用置换算法（LFU）、简单Clock置换算法（最近未使用NRU，访问为0/1）、改进型Clock置换算法（置换代价，访问位A，修改位M）
+ **Belady异常**：采用FIFO算法时，如果对一个进程未分配它所要求的全部页面，有时就会出现分配的页面数增多但缺页率反而提高的异常现象
+ 经过静态重定位后，数据地址和指令地址发生了变化
+ 在一个分页虚存系统中，设页长2KB，某用户程序有30页。若该程序的虚页0、1、2、3、4、5、6、7已分别装入内存块4、17、18、20、25、26、30、32中，则该程序中的虚地址0AC5H和3AC5H对应的物理地址分别是8AC5H和102C5H(页长是2KB，需要11位页内地址。而把0AC5H转换成二进制数得到00001 01011000101B，高位页号低位页内地址)
+ 虚拟存储器容量只受**外存容量**的限制
+ 某计算机采用二级页表的分页存储管理方式，按字节编址，页大小为$2^{10}$B，页表项大小为2B，逻辑地址空间大小为$2^{16}$页，则表示整个逻辑地址空间的页目录表中包含表项的个数至少是**128**(页大小为$2^{10}$B，页表项大小为2B，采用二级页表，一页可存放$2^{9}$个页表项，逻辑地址空间大小为$2^{16}$页，要使表示整个逻辑地址空间的页目录表中包含的个数最少，则需要$2^{16}/2^{9}=2^{7}=128$个页面保存页表项，即页目录表中包含的个数最少为128)
+ 在可变式分区分配方案中，某一作业完成后，系统收回其主存空间，并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减1的情况是**有上邻空闲区，也有下邻空闲区**
+ 当系统发生抖动(thrashing)时，可以采取的有效措施是**撤销部分进程**
+ 在虚拟内存管理中，地址变换机构将逻辑地址变换为物理地址，**形成该逻辑地址**的阶段是**链接**
+ **工作集**：在某段时间间隔内，进程实际所需访问页面的集合，**工作集与页面置换算法是无关的**
+ **可重定位分区、页式、段式存储管理方式**地址转换采用动态重定位方式
+ 可重定位分区存储管理系统中，采用的地址转换公式是**绝对地址=基址寄存器值+逻辑地址**
+ 采用重定位分区分配方式的目的是**解决内存碎片问题**
+ **联想存储器**在计算机系统中是用于**内存地址变换**，是不按地址而按给定内容的特征进行存取的存储器
------
+ **假脱机(SPOOLing)技术**：在联机情况下实现的同时外围操作的技术
+ SPOOLing系统组成：输入井和输出井、输入缓冲区和输出缓冲区、输入进程和输出进程、井管理程序
+ SPOOLing系统特点：提高I/O速度、将独占设备改为共享设备、实现虚拟设备功能
+ SPOOLing系统克服了**独占设备**利用率低的缺点
+ 为了提高设备分配的灵活性，用户申请设备时应指定**设备类相对号**
+ **通道**是一种**通道是一种**
+ 在采用SPOOLing技术的系统中，用户作业的打印结果首先被送到**硬盘固定区域**
+ 为了使多个进程能有效地同时处理输入和输出，最好使用**缓冲池**结构的缓冲技术 
+ 地用户通过键盘登录系统时，首先获得键盘输入信息的程序是**中断处理程序**
+ **通道技术**指的是一种硬件机制
+ 在操作系统中，用户在使用I/O设备时，通常采用**逻辑设备名**
+ 基本的I/O设备处理程序一般处于**阻塞状态**
+ 用户程序发出磁盘I/O请求后，系统的正确处理流程是**用户程序→系统调用处理程序→设备驱动程序→中断处理程序**
